{"version":3,"sources":["symbol_layer.ts"],"names":["PaintProperties","data","iconColor","property","iconOpacity","iconHaloColor","iconHaloWidth","iconHaloBlur","iconTranslate","iconTranslateAnchor","textOpacity","textColor","textHaloColor","textHaloWidth","textHaloBlur","textTranslate","textTranslateAnchor","Serializable","LayoutProperties","visibility","symbolPlacement","symbolSpacing","symbolAvoidEdges","symbolSortKey","symbolZOrder","iconAllowOverlap","iconIgnorePlacement","iconOptional","iconRotationAlignment","iconSize","iconTextFit","iconTextFitPadding","iconImage","iconRotate","iconPadding","iconKeepUpright","iconOffset","iconAnchor","iconPitchAlignment","textPitchAlignment","textRotationAlignment","textField","textFont","textSize","textMaxWidth","textLineHeight","textLetterSpacing","textJustify","textRadialOffset","textVariableAnchor","textAnchor","textMaxAngle","textWritingMode","textRotate","textPadding","textKeepUpright","textTransform","textOffset","textAllowOverlap","textIgnorePlacement","textOptional","SymbolLayer","paint","layout","BaseLayer"],"mappings":"09BAAA,iEACA,mC,stBAEaA,CAAAA,e,wHAgBX,yBAAYC,IAAZ,CAAuB,8DACrB,wBADqB,8zCAErB,GAAMC,CAAAA,SAAS,CAAGD,IAAI,CAAC,YAAD,CAAJ,EAAsBA,IAAI,CAAC,YAAD,CAAJ,CAAmBE,QAAzC,CAAoD,CAAE,KAAF,CAASF,IAAI,CAAC,YAAD,CAAJ,CAAmBE,QAA5B,CAApD,CAA6F,SAA/G,CACA,MAAKD,SAAL,CAAiBA,SAAjB,CACA,MAAKE,WAAL,CAAmBH,IAAI,CAAC,cAAD,CAAJ,EAAwB,CAA3C,CACA,MAAKI,aAAL,CAAqBJ,IAAI,CAAC,iBAAD,CAAJ,EAA2B,WAAhD,CACA,MAAKK,aAAL,CAAqBL,IAAI,CAAC,iBAAD,CAAJ,EAA2B,CAAhD,CACA,MAAKM,YAAL,CAAoBN,IAAI,CAAC,gBAAD,CAAJ,EAA0B,CAA9C,CACA,MAAKO,aAAL,CAAqBP,IAAI,CAAC,gBAAD,CAAJ,EAA0B,CAAC,CAAD,CAAI,CAAJ,CAA/C,CACA,MAAKQ,mBAAL,CAA2BR,IAAI,CAAC,uBAAD,CAAJ,EAAiC,KAA5D,CACA,MAAKS,WAAL,CAAmBT,IAAI,CAAC,cAAD,CAAJ,EAAwB,CAA3C,CACA,GAAMU,CAAAA,SAAS,CAAGV,IAAI,CAAC,YAAD,CAAJ,EAAsBA,IAAI,CAAC,YAAD,CAAJ,CAAmBE,QAAzC,CAAoD,CAAE,KAAF,CAASF,IAAI,CAAC,YAAD,CAAJ,CAAmBE,QAA5B,CAApD,CAA8FF,IAAI,CAAC,YAAD,CAAJ,EAAsB,SAAtI,CACA,MAAKU,SAAL,CAAiBA,SAAjB,CACA,MAAKC,aAAL,CAAqBX,IAAI,CAAC,iBAAD,CAAJ,EAA2B,WAAhD,CACA,MAAKY,aAAL,CAAqBZ,IAAI,CAAC,iBAAD,CAAJ,EAA2B,CAAhD,CACA,MAAKa,YAAL,CAAoBb,IAAI,CAAC,gBAAD,CAAJ,EAA0B,CAA9C,CACA,MAAKc,aAAL,CAAqBd,IAAI,CAAC,gBAAD,CAAJ,EAA0B,CAAC,CAAD,CAAI,CAAJ,CAA/C,CACA,MAAKe,mBAAL,CAA2Bf,IAAI,CAAC,uBAAD,CAAJ,EAAiC,KAA5D,CAjBqB,aAmBtB,C,yBAnCkCgB,wB,6CAyCxBC,CAAAA,gB,6HA4CX,0BAAYjB,IAAZ,CAAuB,gEACrB,0BADqB,0/HAErB,OAAKkB,UAAL,CAAkBlB,IAAI,CAACkB,UAAL,EAAmB,SAArC,CACA,OAAKC,eAAL,CAAuBnB,IAAI,CAAC,kBAAD,CAAJ,EAA4B,OAAnD,CACA,OAAKoB,aAAL,CAAqBpB,IAAI,CAAC,gBAAD,CAAJ,EAA0B,GAA/C,CACA,OAAKqB,gBAAL,CAAwBrB,IAAI,CAAC,oBAAD,CAAJ,EAA8B,KAAtD,CACA,OAAKsB,aAAL,CAAqBtB,IAAI,CAAC,iBAAD,CAAzB,CACA,OAAKuB,YAAL,CAAoBvB,IAAI,CAAC,gBAAD,CAAJ,EAA0B,MAA9C,CAGA,OAAKwB,gBAAL,CAAwBxB,IAAI,CAAC,oBAAD,CAAJ,EAA8B,KAAtD,CACA,OAAKyB,mBAAL,CAA2BzB,IAAI,CAAC,uBAAD,CAAJ,EAAiC,KAA5D,CACA,OAAK0B,YAAL,CAAoB1B,IAAI,CAAC,eAAD,CAAJ,EAAyB,KAA7C,CACA,OAAK2B,qBAAL,CAA6B3B,IAAI,CAAC,yBAAD,CAAJ,EAAmC,MAAhE,CACA,OAAK4B,QAAL,CAAgB5B,IAAI,CAAC,WAAD,CAAJ,EAAqB,CAArC,CACA,OAAK6B,WAAL,CAAmB7B,IAAI,CAAC,eAAD,CAAJ,EAAyB,MAA5C,CACA,OAAK8B,kBAAL,CAA0B9B,IAAI,CAAC,uBAAD,CAAJ,EAAiC,CAAC,CAAD,CAAI,CAAJ,CAAO,CAAP,CAAU,CAAV,CAA3D,CACA,GAAIA,IAAI,CAAC,YAAD,CAAJ,EAAsBA,IAAI,CAAC,YAAD,CAAJ,CAAmBE,QAA7C,CAAuD,CACrD,OAAK6B,SAAL,CAAiB,CAAC,KAAD,CAAQ/B,IAAI,CAAC,YAAD,CAAJ,CAAmBE,QAA3B,CAAjB,CACD,CACD,OAAK8B,UAAL,CAAkBhC,IAAI,CAAC,aAAD,CAAJ,EAAuB,CAAzC,CACA,OAAKiC,WAAL,CAAmBjC,IAAI,CAAC,cAAD,CAAJ,EAAwB,CAA3C,CACA,OAAKkC,eAAL,CAAuBlC,IAAI,CAAC,mBAAD,CAAJ,EAA6B,KAApD,CACA,OAAKmC,UAAL,CAAkBnC,IAAI,CAAC,aAAD,CAAJ,EAAuB,CAAC,CAAD,CAAI,CAAJ,CAAzC,CACA,OAAKoC,UAAL,CAAkBpC,IAAI,CAAC,aAAD,CAAJ,EAAuB,QAAzC,CACA,OAAKqC,kBAAL,CAA0BrC,IAAI,CAAC,sBAAD,CAAJ,EAAgC,MAA1D,CAEA,OAAKsC,kBAAL,CAA0BtC,IAAI,CAAC,sBAAD,CAAJ,EAAgC,MAA1D,CACA,OAAKuC,qBAAL,CAA6BvC,IAAI,CAAC,yBAAD,CAAJ,EAAmC,MAAhE,CACA,GAAMwC,CAAAA,SAAS,CAAGxC,IAAI,CAAC,YAAD,CAAJ,EAAsBA,IAAI,CAAC,YAAD,CAAJ,CAAmBE,QAAzC,CAAoD,CAAC,KAAD,CAAQF,IAAI,CAAC,YAAD,CAAJ,CAAmBE,QAA3B,CAApD,CAA2FF,IAAI,CAAC,YAAD,CAAjH,CACA,OAAKwC,SAAL,CAAiBA,SAAjB,CACA,OAAKC,QAAL,CAAgBzC,IAAI,CAAC,WAAD,CAAJ,EAAqBA,IAAI,CAAC,WAAD,CAAJ,CAAkBE,QAAvC,CAAkD,CAAC,KAAD,CAAQF,IAAI,CAAC,WAAD,CAAJ,CAAkBE,QAA1B,CAAlD,CAAyFF,IAAI,CAAC,WAAD,CAAJ,EAAqB,CAAC,8BAAD,CAA9H,CACA,GAAM0C,CAAAA,QAAQ,CAAG1C,IAAI,CAAC,WAAD,CAAJ,EAAqBA,IAAI,CAAC,WAAD,CAAJ,CAAkBE,QAAvC,CAAkD,CAAC,KAAD,CAAQF,IAAI,CAAC,WAAD,CAAJ,CAAkBE,QAA1B,CAAlD,CAAwFF,IAAI,CAAC,WAAD,CAA7G,CACA,OAAK0C,QAAL,CAAgBA,QAAhB,CACA,OAAKC,YAAL,CAAoB3C,IAAI,CAAC,gBAAD,CAAJ,EAA0B,EAA9C,CACA,OAAK4C,cAAL,CAAsB5C,IAAI,CAAC,kBAAD,CAAJ,EAA4B,GAAlD,CACA,OAAK6C,iBAAL,CAAyB7C,IAAI,CAAC,qBAAD,CAAJ,EAA+B,CAAxD,CACA,OAAK8C,WAAL,CAAmB9C,IAAI,CAAC,cAAD,CAAJ,EAAwB,QAA3C,CACA,OAAK+C,gBAAL,CAAwB/C,IAAI,CAAC,oBAAD,CAAJ,EAA8B,CAAtD,CACA,OAAKgD,kBAAL,CAA0BhD,IAAI,CAAC,sBAAD,CAA9B,CACA,OAAKiD,UAAL,CAAkBjD,IAAI,CAAC,aAAD,CAAJ,EAAuB,QAAzC,CACA,OAAKkD,YAAL,CAAoBlD,IAAI,CAAC,gBAAD,CAAJ,EAA0B,EAA9C,CACA,OAAKmD,eAAL,CAAuBnD,IAAI,CAAC,mBAAD,CAA3B,CACA,OAAKoD,UAAL,CAAkBpD,IAAI,CAAC,aAAD,CAAJ,EAAuB,CAAzC,CACA,OAAKqD,WAAL,CAAmBrD,IAAI,CAAC,cAAD,CAAJ,EAAwB,CAA3C,CACA,OAAKsD,eAAL,CAAuBtD,IAAI,CAAC,mBAAD,CAAJ,EAA6B,IAApD,CACA,OAAKuD,aAAL,CAAqBvD,IAAI,CAAC,gBAAD,CAAJ,EAA0B,MAA/C,CACA,OAAKwD,UAAL,CAAkBxD,IAAI,CAAC,aAAD,CAAJ,EAAuB,CAAC,CAAD,CAAI,CAAJ,CAAzC,CACA,OAAKyD,gBAAL,CAAwBzD,IAAI,CAAC,oBAAD,CAAJ,EAA8B,KAAtD,CACA,OAAK0D,mBAAL,CAA2B1D,IAAI,CAAC,uBAAD,CAAJ,EAAiC,KAA5D,CACA,OAAK2D,YAAL,CAAoB3D,IAAI,CAAC,eAAD,CAAJ,EAAyB,KAA7C,CAlDqB,cAmDtB,C,0EAEU,CACT,GAAMA,CAAAA,IAAI,CAAG,sBAAS,IAAT,CAAb,CACAA,IAAI,CAAC,gBAAD,CAAJ,CAAyB,KAAKuB,YAA9B,CACA,MAAOvB,CAAAA,IAAI,CAAC,eAAD,CAAX,CACA,MAAOA,CAAAA,IAAP,CACD,C,8BAtGmCgB,wB,+CAyGjB4C,CAAAA,W,2GAInB,qBAAY5D,IAAZ,CAAuB,2DACrB,yBAAMA,IAAN,EADqB,mLAErB,OAAK6D,KAAL,CAAa,GAAI9D,CAAAA,eAAJ,CAAoBC,IAAI,CAAC6D,KAAL,EAAc,EAAlC,CAAb,CACA,OAAKC,MAAL,CAAc,GAAI7C,CAAAA,gBAAJ,CAAqBjB,IAAI,CAAC8D,MAAL,EAAe,EAApC,CAAd,CAHqB,cAItB,C,qBARsCC,mB","sourcesContent":["import BaseLayer, { Serializable } from './base_layer'\nimport { kebabize } from '../helpers'\n\nexport class PaintProperties extends Serializable {\n  iconColor: string | string[]\n  iconOpacity: number\n  iconHaloColor: string\n  iconHaloWidth: number\n  iconHaloBlur: number\n  iconTranslate: [number, number]\n  iconTranslateAnchor: 'map' | 'viewport'\n  textOpacity: number\n  textColor: string | string[]\n  textHaloColor: string\n  textHaloWidth: number\n  textHaloBlur: number\n  textTranslate: [number, number]\n  textTranslateAnchor: 'map' | 'viewport'\n\n  constructor(data: any) {\n    super()\n    const iconColor = data['icon-color'] && data['icon-color'].property ? [ 'get', data['icon-color'].property ] : '#000000'\n    this.iconColor = iconColor\n    this.iconOpacity = data['icon-opacity'] || 1\n    this.iconHaloColor = data['icon-halo-color'] || '#00000000'\n    this.iconHaloWidth = data['icon-halo-width'] || 0\n    this.iconHaloBlur = data['icon-halo-blur'] || 0\n    this.iconTranslate = data['icon-translate'] || [0, 0]\n    this.iconTranslateAnchor = data['icon-translate-anchor'] || 'map'\n    this.textOpacity = data['text-opacity'] || 1\n    const textColor = data['text-color'] && data['text-color'].property ? [ 'get', data['text-color'].property ] : (data['text-color'] || '#000000')\n    this.textColor = textColor\n    this.textHaloColor = data['text-halo-color'] || '#00000000'\n    this.textHaloWidth = data['text-halo-width'] || 0\n    this.textHaloBlur = data['text-halo-blur'] || 0\n    this.textTranslate = data['text-translate'] || [0, 0]\n    this.textTranslateAnchor = data['text-translate-anchor'] || 'map'\n\n  }\n}\n\nexport type Placement = 'center' | 'left' | 'right' | 'top' | 'bottom' | 'top-left' | 'top-right' | 'bottom-left' | 'bottom-right'\nexport type WritingMode = 'horizontal' | 'vertical'\n\nexport class LayoutProperties extends Serializable {\n  visibility: 'visible' | 'none'\n  symbolPlacement: 'point' | 'line' | 'line-center'\n  symbolSpacing: number\n  symbolAvoidEdges: boolean\n  symbolSortKey?: number\n  symbolZOrder: 'auto' | 'viewport-y' | 'source'\n  iconAllowOverlap: boolean\n  iconIgnorePlacement: boolean\n  iconOptional: boolean\n  iconRotationAlignment: 'map' | 'viewport' | 'auto'\n  iconSize: number\n  iconTextFit: 'none' | 'width' | 'height' | 'both'\n  iconTextFitPadding: [number, number, number, number]\n  iconImage?: string | string[]\n  iconRotate: number\n  iconPadding: number\n  iconKeepUpright: boolean\n  iconOffset: [number, number]\n  iconAnchor: Placement\n  iconPitchAlignment: 'map' | 'viewport' | 'auto'\n  textPitchAlignment: 'map' | 'viewport' | 'auto'\n  textRotationAlignment: 'map' | 'viewport' | 'auto'\n  textField: string\n  textFont: string[]\n  textSize: number\n  textMaxWidth: number\n  textLineHeight: number\n  textLetterSpacing: number\n  textJustify: 'auto' | 'left' | 'right' | 'center'\n  textRadialOffset: number\n  textVariableAnchor?: Placement[]\n  textAnchor: Placement\n  textMaxAngle: number\n  textWritingMode?: WritingMode[]\n  textRotate: number\n  textPadding: number\n  textKeepUpright: boolean\n  textTransform: 'none' | 'uppercase' | 'lowercase'\n  textOffset: [number, number]\n  textAllowOverlap: boolean\n  textIgnorePlacement: boolean\n  textOptional: boolean\n\n  constructor(data: any) {\n    super()\n    this.visibility = data.visibility || 'visible'\n    this.symbolPlacement = data['symbol-placement'] || 'point'\n    this.symbolSpacing = data['symbol-spacing'] || 250\n    this.symbolAvoidEdges = data['symbol-avoid-edges'] || false\n    this.symbolSortKey = data['symbol-sort-key']\n    this.symbolZOrder = data['symbol-z-order'] || 'auto'\n\n\n    this.iconAllowOverlap = data['icon-allow-overlap'] || false\n    this.iconIgnorePlacement = data['icon-ignore-placement'] || false\n    this.iconOptional = data['icon-optional'] || false\n    this.iconRotationAlignment = data['icon-rotation-alignment'] || 'auto'\n    this.iconSize = data['icon-size'] || 1\n    this.iconTextFit = data['icon-text-fit'] || 'none'\n    this.iconTextFitPadding = data['icon-text-fit-padding'] || [0, 0, 0, 0]\n    if (data['icon-image'] && data['icon-image'].property) {\n      this.iconImage = ['get', data['icon-image'].property]\n    }\n    this.iconRotate = data['icon-rotate'] || 0\n    this.iconPadding = data['icon-padding'] || 2\n    this.iconKeepUpright = data['icon-keep-upright'] || false\n    this.iconOffset = data['icon-offset'] || [0, 0]\n    this.iconAnchor = data['icon-anchor'] || 'center'\n    this.iconPitchAlignment = data['icon-pitch-alignment'] || 'auto'\n\n    this.textPitchAlignment = data['text-pitch-alignment'] || 'auto'\n    this.textRotationAlignment = data['text-rotation-alignment'] || 'auto'\n    const textField = data['text-field'] && data['text-field'].property ? ['get', data['text-field'].property] : data['text-field']\n    this.textField = textField\n    this.textFont = data['text-font'] && data['text-font'].property ? ['get', data['text-font'].property] : (data['text-font'] || [\"Klokantech Noto Sans Regular\"])\n    const textSize = data['text-size'] && data['text-size'].property ? ['get', data['text-size'].property] : data['text-size']\n    this.textSize = textSize\n    this.textMaxWidth = data['text-max-width'] || 10\n    this.textLineHeight = data['text-line-height'] || 1.2\n    this.textLetterSpacing = data['text-letter-spacing'] || 0\n    this.textJustify = data['text-justify'] || 'center'\n    this.textRadialOffset = data['text-radial-offset'] || 0\n    this.textVariableAnchor = data['text-variable-anchor']\n    this.textAnchor = data['text-anchor'] || 'center'\n    this.textMaxAngle = data['text-max-angle'] || 45\n    this.textWritingMode = data['text-writing-mode']\n    this.textRotate = data['text-rotate'] || 0\n    this.textPadding = data['text-padding'] || 2\n    this.textKeepUpright = data['text-keep-upright'] || true\n    this.textTransform = data['text-transform'] || 'none'\n    this.textOffset = data['text-offset'] || [0, 0]\n    this.textAllowOverlap = data['text-allow-overlap'] || false\n    this.textIgnorePlacement = data['text-ignore-placement'] || false\n    this.textOptional = data['text-optional'] || false\n  }\n\n  get json() {\n    const data = kebabize(this)\n    data['symbol-z-order'] = this.symbolZOrder\n    delete data['symbol-zorder']\n    return data\n  }\n}\n\nexport default class SymbolLayer extends BaseLayer {\n  paint: PaintProperties\n  layout: LayoutProperties\n\n  constructor(data: any) {\n    super(data)\n    this.paint = new PaintProperties(data.paint || {})\n    this.layout = new LayoutProperties(data.layout || {})\n  }\n}\n"]}